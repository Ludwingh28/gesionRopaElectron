CREATE DATABASE  IF NOT EXISTS `sistema_inventario` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `sistema_inventario`;
-- MySQL dump 10.13  Distrib 8.0.42, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: sistema_inventario
-- ------------------------------------------------------
-- Server version	8.0.42

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `inventario`
--

DROP TABLE IF EXISTS `inventario`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `inventario` (
  `id` int NOT NULL AUTO_INCREMENT,
  `sku` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `producto_id` int NOT NULL,
  `talla_id` int NOT NULL,
  `color_id` int NOT NULL,
  `stock_actual` int NOT NULL DEFAULT '0',
  `stock_minimo` int DEFAULT '5',
  `ubicacion` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `activo` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_producto_talla_color` (`producto_id`,`talla_id`,`color_id`),
  UNIQUE KEY `sku` (`sku`),
  KEY `talla_id` (`talla_id`),
  KEY `color_id` (`color_id`),
  KEY `idx_producto` (`producto_id`),
  KEY `idx_stock` (`stock_actual`),
  KEY `idx_sku` (`sku`),
  CONSTRAINT `inventario_ibfk_1` FOREIGN KEY (`producto_id`) REFERENCES `productos` (`id`) ON DELETE RESTRICT,
  CONSTRAINT `inventario_ibfk_2` FOREIGN KEY (`talla_id`) REFERENCES `tallas` (`id`) ON DELETE RESTRICT,
  CONSTRAINT `inventario_ibfk_3` FOREIGN KEY (`color_id`) REFERENCES `colores` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB AUTO_INCREMENT=1268 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `inventario`
--

LOCK TABLES `inventario` WRITE;
/*!40000 ALTER TABLE `inventario` DISABLE KEYS */;
INSERT INTO `inventario` VALUES (1000,'PROD-001000-3626-BLA',1000,15,1,4,2,NULL,1,'2025-07-14 05:12:34','2025-07-14 05:17:57'),(1001,'PROD-001021-38-AZO',1021,11,6,2,1,NULL,1,'2025-07-14 05:17:36','2025-07-14 05:18:04'),(1002,'PROD-001003-44-AZU',1003,14,2,4,2,NULL,1,'2025-07-14 05:17:40','2025-07-14 05:17:40'),(1003,'PROD-001000-42-AZU',1000,8,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1004,'PROD-001000-42-BLA',1000,8,1,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1005,'PROD-001000-40-AZU',1000,7,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1006,'PROD-001000-40-BLA',1000,7,1,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 18:20:04'),(1007,'PROD-001000-38-AZU',1000,6,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1008,'PROD-001000-38-BLA',1000,6,1,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1009,'PROD-001001-42-AZU',1001,8,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1010,'PROD-001001-42-BLA',1001,8,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 21:10:04'),(1011,'PROD-001001-40-AZU',1001,7,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1012,'PROD-001001-40-BLA',1001,7,1,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1013,'PROD-001001-38-AZU',1001,6,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1014,'PROD-001001-38-BLA',1001,6,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1015,'PROD-001002-42-AZU',1002,8,2,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1016,'PROD-001002-42-BLA',1002,8,1,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1017,'PROD-001002-40-AZU',1002,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1018,'PROD-001002-40-BLA',1002,7,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1019,'PROD-001002-38-AZU',1002,6,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1020,'PROD-001002-38-BLA',1002,6,1,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1021,'PROD-001003-42-AZU',1003,8,2,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1022,'PROD-001003-42-BLA',1003,8,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1023,'PROD-001003-40-AZU',1003,7,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1024,'PROD-001003-40-BLA',1003,7,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1025,'PROD-001003-38-AZU',1003,6,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1026,'PROD-001003-38-BLA',1003,6,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1027,'PROD-001004-42-AZU',1004,8,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1028,'PROD-001004-42-BLA',1004,8,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1029,'PROD-001004-40-AZU',1004,7,2,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1030,'PROD-001004-40-BLA',1004,7,1,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1031,'PROD-001004-38-AZU',1004,6,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1032,'PROD-001004-38-BLA',1004,6,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1033,'PROD-001005-42-AZU',1005,8,2,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1034,'PROD-001005-42-BLA',1005,8,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1035,'PROD-001005-40-AZU',1005,7,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1036,'PROD-001005-40-BLA',1005,7,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1037,'PROD-001005-38-AZU',1005,6,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1038,'PROD-001005-38-BLA',1005,6,1,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1039,'PROD-001006-42-AZU',1006,8,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1040,'PROD-001006-42-BLA',1006,8,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1041,'PROD-001006-40-AZU',1006,7,2,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1042,'PROD-001006-40-BLA',1006,7,1,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1043,'PROD-001006-38-AZU',1006,6,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1044,'PROD-001006-38-BLA',1006,6,1,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1045,'PROD-001007-42-AZU',1007,8,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1046,'PROD-001007-42-BLA',1007,8,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1047,'PROD-001007-40-AZU',1007,7,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1048,'PROD-001007-40-BLA',1007,7,1,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1049,'PROD-001007-38-AZU',1007,6,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1050,'PROD-001007-38-BLA',1007,6,1,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1051,'PROD-001008-42-AZU',1008,8,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1052,'PROD-001008-42-BLA',1008,8,1,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1053,'PROD-001008-40-AZU',1008,7,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1054,'PROD-001008-40-BLA',1008,7,1,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1055,'PROD-001008-38-AZU',1008,6,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1056,'PROD-001008-38-BLA',1008,6,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1057,'PROD-001009-42-AZU',1009,8,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1058,'PROD-001009-42-BLA',1009,8,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1059,'PROD-001009-40-AZU',1009,7,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1060,'PROD-001009-40-BLA',1009,7,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1061,'PROD-001009-38-AZU',1009,6,2,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1062,'PROD-001009-38-BLA',1009,6,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1063,'PROD-001010-42-AZU',1010,8,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1064,'PROD-001010-42-BLA',1010,8,1,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1065,'PROD-001010-40-AZU',1010,7,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1066,'PROD-001010-40-BLA',1010,7,1,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1067,'PROD-001010-38-AZU',1010,6,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1068,'PROD-001010-38-BLA',1010,6,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1069,'PROD-001011-42-AZU',1011,8,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1070,'PROD-001011-42-BLA',1011,8,1,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1071,'PROD-001011-40-AZU',1011,7,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1072,'PROD-001011-40-BLA',1011,7,1,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1073,'PROD-001011-38-AZU',1011,6,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1074,'PROD-001011-38-BLA',1011,6,1,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1075,'PROD-001012-42-AZU',1012,8,2,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1076,'PROD-001012-42-BLA',1012,8,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1077,'PROD-001012-40-AZU',1012,7,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1078,'PROD-001012-40-BLA',1012,7,1,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1079,'PROD-001012-38-AZU',1012,6,2,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1080,'PROD-001012-38-BLA',1012,6,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1081,'PROD-001013-42-AZU',1013,8,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1082,'PROD-001013-42-BLA',1013,8,1,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1083,'PROD-001013-40-AZU',1013,7,2,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1084,'PROD-001013-40-BLA',1013,7,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1085,'PROD-001013-38-AZU',1013,6,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1086,'PROD-001013-38-BLA',1013,6,1,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1087,'PROD-001014-42-AZU',1014,8,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1088,'PROD-001014-42-BLA',1014,8,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1089,'PROD-001014-40-AZU',1014,7,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1090,'PROD-001014-40-BLA',1014,7,1,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1091,'PROD-001014-38-AZU',1014,6,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1092,'PROD-001014-38-BLA',1014,6,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1093,'PROD-001015-42-AZU',1015,8,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1094,'PROD-001015-42-BLA',1015,8,1,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1095,'PROD-001015-40-AZU',1015,7,2,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1096,'PROD-001015-40-BLA',1015,7,1,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1097,'PROD-001015-38-AZU',1015,6,2,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1098,'PROD-001015-38-BLA',1015,6,1,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1099,'PROD-001016-42-AZU',1016,8,2,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1100,'PROD-001016-42-BLA',1016,8,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1101,'PROD-001016-40-AZU',1016,7,2,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1102,'PROD-001016-40-BLA',1016,7,1,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1103,'PROD-001016-38-AZU',1016,6,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1104,'PROD-001016-38-BLA',1016,6,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1105,'PROD-001017-42-AZU',1017,8,2,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1106,'PROD-001017-42-BLA',1017,8,1,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1107,'PROD-001017-40-AZU',1017,7,2,10,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1108,'PROD-001017-40-BLA',1017,7,1,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1109,'PROD-001017-38-AZU',1017,6,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1110,'PROD-001017-38-BLA',1017,6,1,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1111,'PROD-001018-42-AZU',1018,8,2,8,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1112,'PROD-001018-42-BLA',1018,8,1,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1113,'PROD-001018-40-AZU',1018,7,2,6,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1114,'PROD-001018-40-BLA',1018,7,1,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1115,'PROD-001018-38-AZU',1018,6,2,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1116,'PROD-001018-38-BLA',1018,6,1,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1117,'PROD-001019-42-AZU',1019,8,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1118,'PROD-001019-42-BLA',1019,8,1,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1119,'PROD-001019-40-AZU',1019,7,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1120,'PROD-001019-40-BLA',1019,7,1,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1121,'PROD-001019-38-AZU',1019,6,2,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1122,'PROD-001019-38-BLA',1019,6,1,7,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1123,'PROD-001020-42-AZU',1020,8,2,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1124,'PROD-001020-42-BLA',1020,8,1,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1125,'PROD-001020-40-AZU',1020,7,2,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1126,'PROD-001020-40-BLA',1020,7,1,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1127,'PROD-001020-38-AZU',1020,6,2,9,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1128,'PROD-001020-38-BLA',1020,6,1,1,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1130,'PROD-001001-42-NEG',1001,8,5,4,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1131,'PROD-001002-44-AZU',1002,9,2,3,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1132,'PROD-001002-46-AZU',1002,10,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1133,'PROD-001002-M-NEG',1002,2,5,2,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1139,'PROD-001022-40-AZU',1022,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1140,'PROD-001023-40-AZU',1023,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1141,'PROD-001024-40-AZU',1024,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1142,'PROD-001025-40-AZU',1025,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1143,'PROD-001026-40-AZU',1026,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1144,'PROD-001027-40-AZU',1027,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1145,'PROD-001028-40-AZU',1028,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1146,'PROD-001029-40-AZU',1029,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1147,'PROD-001030-40-AZU',1030,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1148,'PROD-001031-40-AZU',1031,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1149,'PROD-001032-40-AZU',1032,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1150,'PROD-001033-40-AZU',1033,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1151,'PROD-001034-40-AZU',1034,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1152,'PROD-001035-40-AZU',1035,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1153,'PROD-001036-40-AZU',1036,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1154,'PROD-001037-40-AZU',1037,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1155,'PROD-001038-40-AZU',1038,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1156,'PROD-001039-40-AZU',1039,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1157,'PROD-001040-40-AZU',1040,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1158,'PROD-001041-40-AZU',1041,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1159,'PROD-001042-40-AZU',1042,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1160,'PROD-001043-40-AZU',1043,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1161,'PROD-001044-40-AZU',1044,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1162,'PROD-001045-40-AZU',1045,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1163,'PROD-001046-40-AZU',1046,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1164,'PROD-001047-40-AZU',1047,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1165,'PROD-001048-40-AZU',1048,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1166,'PROD-001049-40-AZU',1049,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1167,'PROD-001050-40-AZU',1050,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1168,'PROD-001051-40-AZU',1051,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1169,'PROD-001052-40-AZU',1052,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1170,'PROD-001053-40-AZU',1053,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1171,'PROD-001054-40-AZU',1054,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1172,'PROD-001055-40-AZU',1055,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1173,'PROD-001056-40-AZU',1056,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1174,'PROD-001057-40-AZU',1057,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1175,'PROD-001058-40-AZU',1058,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1176,'PROD-001059-40-AZU',1059,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1177,'PROD-001060-40-AZU',1060,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1178,'PROD-001061-40-AZU',1061,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1179,'PROD-001062-40-AZU',1062,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1180,'PROD-001063-40-AZU',1063,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1181,'PROD-001064-40-AZU',1064,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1182,'PROD-001065-40-AZU',1065,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1183,'PROD-001066-40-AZU',1066,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1184,'PROD-001067-40-AZU',1067,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1185,'PROD-001068-40-AZU',1068,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1186,'PROD-001069-40-AZU',1069,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1187,'PROD-001070-40-AZU',1070,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1188,'PROD-001071-40-AZU',1071,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1189,'PROD-001072-40-AZU',1072,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1190,'PROD-001073-40-AZU',1073,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1191,'PROD-001074-40-AZU',1074,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1192,'PROD-001075-40-AZU',1075,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1193,'PROD-001076-40-AZU',1076,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1194,'PROD-001077-40-AZU',1077,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1195,'PROD-001078-40-AZU',1078,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1196,'PROD-001079-40-AZU',1079,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1197,'PROD-001080-40-AZU',1080,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1198,'PROD-001081-40-AZU',1081,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1199,'PROD-001082-40-AZU',1082,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1200,'PROD-001083-40-AZU',1083,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1201,'PROD-001084-40-AZU',1084,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1202,'PROD-001085-40-AZU',1085,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1203,'PROD-001086-40-AZU',1086,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1204,'PROD-001087-40-AZU',1087,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1205,'PROD-001088-40-AZU',1088,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1206,'PROD-001089-40-AZU',1089,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1207,'PROD-001090-40-AZU',1090,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1208,'PROD-001091-40-AZU',1091,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1209,'PROD-001092-40-AZU',1092,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1210,'PROD-001093-40-AZU',1093,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1211,'PROD-001094-40-AZU',1094,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1212,'PROD-001095-40-AZU',1095,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1213,'PROD-001096-40-AZU',1096,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1214,'PROD-001097-40-AZU',1097,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1215,'PROD-001098-40-AZU',1098,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1216,'PROD-001099-40-AZU',1099,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1217,'PROD-001100-40-AZU',1100,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1218,'PROD-001101-40-AZU',1101,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1219,'PROD-001102-40-AZU',1102,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1220,'PROD-001103-40-AZU',1103,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1221,'PROD-001104-40-AZU',1104,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1222,'PROD-001105-40-AZU',1105,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1223,'PROD-001106-40-AZU',1106,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1224,'PROD-001107-40-AZU',1107,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1225,'PROD-001108-40-AZU',1108,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1226,'PROD-001109-40-AZU',1109,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1227,'PROD-001110-40-AZU',1110,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1228,'PROD-001111-40-AZU',1111,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1229,'PROD-001112-40-AZU',1112,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1230,'PROD-001113-40-AZU',1113,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1231,'PROD-001114-40-AZU',1114,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1232,'PROD-001115-40-AZU',1115,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1233,'PROD-001116-40-AZU',1116,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1234,'PROD-001117-40-AZU',1117,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1235,'PROD-001118-40-AZU',1118,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1236,'PROD-001119-40-AZU',1119,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1237,'PROD-001120-40-AZU',1120,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1238,'PROD-001121-40-AZU',1121,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1239,'PROD-001122-40-AZU',1122,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1240,'PROD-001123-40-AZU',1123,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1241,'PROD-001124-40-AZU',1124,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1242,'PROD-001125-40-AZU',1125,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1243,'PROD-001126-40-AZU',1126,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1244,'PROD-001127-40-AZU',1127,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56'),(1245,'PROD-001128-40-AZU',1128,7,2,5,2,NULL,1,'2025-07-19 06:14:56','2025-07-19 06:14:56');
/*!40000 ALTER TABLE `inventario` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `tr_inventario_sku` BEFORE INSERT ON `inventario` FOR EACH ROW BEGIN
    DECLARE producto_codigo VARCHAR(20);
    DECLARE talla_nombre VARCHAR(20);
    DECLARE color_nombre VARCHAR(50);
    DECLARE next_id INT;
    
    -- Obtener el próximo ID que se asignará
    SELECT AUTO_INCREMENT INTO next_id 
    FROM information_schema.TABLES 
    WHERE TABLE_SCHEMA = DATABASE() 
    AND TABLE_NAME = 'inventario';
    
    SELECT COALESCE(codigo_interno, CONCAT('PROD-', LPAD(id, 6, '0'))) INTO producto_codigo 
    FROM productos WHERE id = NEW.producto_id;
    
    SELECT nombre INTO talla_nombre 
    FROM tallas WHERE id = NEW.talla_id;
    
    SELECT nombre INTO color_nombre 
    FROM colores WHERE id = NEW.color_id;
    
    IF NEW.sku IS NULL OR NEW.sku = '' THEN
        SET NEW.sku = CONCAT(
            COALESCE(producto_codigo, 'PROD-000000'), '-', 
            REPLACE(REPLACE(COALESCE(talla_nombre, 'ST'), '/', ''), '.', ''), '-', 
            SUBSTRING(UPPER(COALESCE(color_nombre, 'STD')), 1, 3)
        );
    END IF;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-07-19 18:28:54
