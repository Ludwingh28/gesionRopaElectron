-- =====================================================
-- INSERTS PARA POBLAR TABLAS - MÁXIMO 10 INSERTS
-- Usuarios y Ventas usando productos existentes
-- =====================================================

USE sistema_inventario;

-- =====================================================
-- 1. INSERTAR USUARIOS (3 INSERTS)
-- =====================================================

-- Promotora 1: María González
INSERT INTO usuarios (nombre, usuario, email, telefono, password_hash, rol_id) VALUES 
('María González', 'maria.gonzalez', 'maria.promotora@tienda.com', '+1234567891', 
 '$2y$10$example_hash_maria', (SELECT id FROM roles WHERE nombre = 'promotora'));

-- Promotora 2: Ana Rodríguez  
INSERT INTO usuarios (nombre, usuario, email, telefono, password_hash, rol_id) VALUES 
('Ana Rodríguez', 'ana.rodriguez', 'ana.promotora@tienda.com', '+1234567892', 
 '$2y$10$example_hash_ana', (SELECT id FROM roles WHERE nombre = 'promotora'));

-- Developer: Carlos Mendoza
INSERT INTO usuarios (nombre, usuario, email, telefono, password_hash, rol_id) VALUES 
('superadmin', 'developer', 'superadmin.dev@sistema.com', '+1234567893', 
 'admin123', (SELECT id FROM roles WHERE nombre = 'developer'));

-- =====================================================
-- 2. CREAR INVENTARIO PARA VENTAS (3 INSERTS)
-- =====================================================

-- Inventario para SHORT JEANS CORTO BLANCO (PROD-001000)
INSERT INTO inventario (sku, producto_id, talla_id, color_id, stock_actual, stock_minimo) VALUES 
('PROD-001000-3626-BLA', 1000, 
 (SELECT id FROM tallas WHERE nombre = '36/26'), 
 (SELECT id FROM colores WHERE nombre = 'BLANCO'), 5, 2);

-- Inventario para PANTALON KANCAN PREMIUM (PROD-001021)
-- PANTALON KANCAN talla 38 (cambiar IDs según tu tabla)  
INSERT INTO inventario (sku, producto_id, talla_id, color_id, stock_actual, stock_minimo) VALUES 
('PROD-001021-38-AZO', 1021, 11, 6, 3, 1);
-- CAMBIAR: 11 por ID de talla '38', 6 por ID de color 'AZUL OSCURO'

-- BERMUDA talla 44 (cambiar IDs según tu tabla)
INSERT INTO inventario (sku, producto_id, talla_id, color_id, stock_actual, stock_minimo) VALUES 
('PROD-001003-44-AZU', 1003, 14, 2, 4, 2);
-- CAMBIAR: 14 por ID de talla '44', 2 por ID de color 'AZUL'

-- =====================================================
-- PASO 4: VENTAS CON IDs DIRECTOS
-- =====================================================

-- VENTA 1: Admin (usuario ID 1)
INSERT INTO ventas (numero_venta, usuario_id, cliente_nombre, cliente_documento, 
                   subtotal, total, metodo_pago, estado) VALUES 
('VTA-20250714-1000', 1, 'Juan Pérez', '12345678', 220.00, 220.00, 'efectivo', 'completada');

INSERT INTO detalle_ventas (venta_id, inventario_id, cantidad, precio_unitario) VALUES 
(1000, 1000, 1, 220.00); -- Venta 1000, Inventario 1000

-- VENTA 2: Promotora María (usuario ID 2) 
INSERT INTO ventas (numero_venta, usuario_id, cliente_nombre, cliente_documento, 
                   subtotal, total, metodo_pago, estado) VALUES 
('VTA-20250714-1001', 2, 'Ana García', '87654321', 780.00, 780.00, 'tarjeta', 'completada');

INSERT INTO detalle_ventas (venta_id, inventario_id, cantidad, precio_unitario) VALUES 
(1001, 1001, 1, 780.00); -- Venta 1001, Inventario 1001 ($650 + 20% = $780)

-- =====================================================
-- PASO 5: VERIFICACIÓN FINAL
-- =====================================================

-- Verificar todo lo insertado
SELECT 'USUARIOS:' AS tabla, id, nombre, usuario, rol_id FROM usuarios WHERE id > 1;
SELECT 'INVENTARIO:' AS tabla, id, sku, producto_id, talla_id, color_id, stock_actual FROM inventario WHERE id >= 1000;  
SELECT 'VENTAS:' AS tabla, id, numero_venta, usuario_id, cliente_nombre, total FROM ventas WHERE id >= 1000;
SELECT 'DETALLE VENTAS:' AS tabla, id, venta_id, inventario_id, cantidad, precio_unitario FROM detalle_ventas WHERE venta_id >= 1000;

-- =====================================================
-- INSTRUCCIONES DE USO:
-- =====================================================
/*
1. Ejecuta primero las consultas de verificación (PASO 1)
2. Anota los IDs reales que obtengas  
3. Reemplaza los números en los comentarios por los IDs reales
4. Ejecuta los inserts uno por uno
5. Verifica con las consultas del PASO 5

EJEMPLO:
Si el rol 'promotora' tiene ID 3, cambia:
rol_id) VALUES (..., 3);

Si la talla '38' tiene ID 11, cambia:
talla_id, color_id, stock_actual, stock_minimo) VALUES (..., 11, ...);
*/